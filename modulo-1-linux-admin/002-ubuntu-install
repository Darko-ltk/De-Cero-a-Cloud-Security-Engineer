D√çA 2: INSTALACI√ìN Y CONFIGURACI√ìN INICIAL DE UBUNTU SERVER

Objetivo: Instalar Ubuntu Server 22.04 LTS y realizar la configuraci√≥n inicial del sistema

PROCESO DE INSTALACI√ìN UBUNTU SERVER
Paso 1: Iniciar la M√°quina Virtual
    1. Abre VirtualBox y selecciona tu VM "Ubuntu-Server-Lab01"
    2. Verifica la configuraci√≥n:
        ‚ó¶ ISO de Ubuntu Server montado en unidad √≥ptica
        ‚ó¶ 4GB RAM asignados
        ‚ó¶ 50GB de disco configurado
        ‚ó¶ Red en modo NAT
    3. Inicia la m√°quina virtual haciendo clic en "Iniciar"
Paso 2: Proceso de Instalaci√≥n Guiado
Pantalla de bienvenida:
    ‚Ä¢ Selecciona idioma: English (recomendado para entornos profesionales)
    ‚Ä¢ ¬øPor qu√© ingl√©s? Documentaci√≥n, logs y mensajes de error est√°n en ingl√©s
Configuraci√≥n de teclado:
    ‚Ä¢ Selecciona tu distribuci√≥n de teclado local
    ‚Ä¢ Prueba escribiendo caracteres especiales para verificar
Tipo de instalaci√≥n:
    ‚Ä¢ Selecciona "Ubuntu Server" (no "Ubuntu Server (minimized)")
    ‚Ä¢ ¬øPor qu√© no minimized? Necesitamos herramientas completas para aprendizaje
Configuraci√≥n de red:
    ‚Ä¢ DHCP autom√°tico: Acepta la configuraci√≥n por defecto
    ‚Ä¢ Direcci√≥n IP: Anota la IP asignada (ej: 10.0.2.15)
    ‚Ä¢ Gateway: Anota el gateway (ej: 10.0.2.2)
Paso 3: Configuraci√≥n de Almacenamiento
Particionado guiado:
    ‚Ä¢ Selecciona "Use an entire disk"
    ‚Ä¢ Disco objetivo: Selecciona el disco virtual de 50GB
    ‚Ä¢ Esquema de particiones: LVM (Logical Volume Manager)
¬øPor qu√© LVM?
    ‚Ä¢ Flexibilidad: Redimensionar particiones sin downtime
    ‚Ä¢ Snapshots: Copias de seguridad instant√°neas
    ‚Ä¢ M√∫ltiples discos: Agregar almacenamiento din√°micamente
    ‚Ä¢ Est√°ndar empresarial: Usado en el 78% de servidores Linux
Confirmaci√≥n del particionado:
    ‚Ä¢ Revisa el esquema propuesto
    ‚Ä¢ Particiones t√≠picas:
        ‚ó¶ /boot - 1GB (arranque del sistema)
        ‚ó¶ / - 48GB (sistema ra√≠z)
        ‚ó¶ swap - 1GB (memoria virtual)
Paso 4: Configuraci√≥n de Usuario
Informaci√≥n del perfil:
    ‚Ä¢ Nombre completo: Tu nombre real
    ‚Ä¢ Nombre del servidor: ubuntu-server-lab01
    ‚Ä¢ Nombre de usuario: admin (recomendado para laboratorio)
    ‚Ä¢ Contrase√±a: M√≠nimo 12 caracteres, may√∫sculas, min√∫sculas, n√∫meros y s√≠mbolos
Ejemplo de contrase√±a segura: Lab2025!Secure#
¬øPor qu√© esta configuraci√≥n?
    ‚Ä¢ Usuario admin: Claramente identificable como administrador
    ‚Ä¢ Contrase√±a compleja: Protecci√≥n contra ataques de fuerza bruta
    ‚Ä¢ Hostname descriptivo: F√°cil identificaci√≥n en red
Paso 5: Configuraci√≥n SSH
¬°CR√çTICO! Selecciona "Install OpenSSH server"
¬øPor qu√© es fundamental SSH?
    ‚Ä¢ Administraci√≥n remota: Gesti√≥n desde tu m√°quina host
    ‚Ä¢ Transferencia de archivos: SCP, SFTP para mover archivos
    ‚Ä¢ T√∫neles seguros: Port forwarding para servicios
    ‚Ä¢ Automatizaci√≥n: Ansible, scripts remotos
    ‚Ä¢ Est√°ndar profesional: 100% de servidores empresariales usan SSH
Configuraci√≥n de claves SSH:
    ‚Ä¢ Por ahora, NO importes claves SSH
    ‚Ä¢ Configuraremos autenticaci√≥n por clave m√°s adelante
Paso 6: Selecci√≥n de Software
Snaps sugeridos: Deja todo desmarcado por ahora
¬øPor qu√© no instalar software adicional?
    ‚Ä¢ Instalaci√≥n limpia: Mejor control sobre componentes
    ‚Ä¢ Seguridad: Menor superficie de ataque
    ‚Ä¢ Aprendizaje: Instalaremos manualmente cada servicio
    ‚Ä¢ Documentaci√≥n: Cada instalaci√≥n ser√° documentada
Paso 7: Finalizaci√≥n de la Instalaci√≥n
    1. Progreso de instalaci√≥n: Observa el proceso (15-30 minutos)
    2. Actualizaci√≥n autom√°tica: El sistema descarga actualizaciones
    3. Configuraci√≥n final: Configuraci√≥n de servicios base
    4. Reinicio: Cuando aparezca "Reboot Now", presiona Enter
    5. Retira el ISO: VirtualBox lo hace autom√°ticamente
üîß CONFIGURACI√ìN INICIAL POST-INSTALACI√ìN
Primer Acceso al Sistema
Login inicial:
ubuntu-server-lab01 login: admin
Password: [tu-contrase√±a]

Verificaci√≥n del sistema:
# Verificar informaci√≥n del sistema
hostnamectl

# Verificar usuario actual
whoami

# Verificar directorio actual
pwd

# Verificar fecha y hora
date

Actualizaci√≥n Completa del Sistema
¬øPor qu√© actualizar inmediatamente?
    ‚Ä¢ Parches de seguridad: Vulnerabilidades corregidas
    ‚Ä¢ Estabilidad: Bugs solucionados
    ‚Ä¢ Compatibilidad: Drivers actualizados
    ‚Ä¢ Buenas pr√°cticas: Primer paso en cualquier servidor
Comandos de actualizaci√≥n:
# Actualizar lista de paquetes
sudo apt update

# Mostrar paquetes actualizables
apt list --upgradable

# Actualizar todos los paquetes
sudo apt upgrade -y

# Limpiar paquetes innecesarios
sudo apt autoremove -y

# Limpiar cach√© de paquetes
sudo apt autoclean

Explicaci√≥n de cada comando:
    ‚Ä¢ apt update: Descarga informaci√≥n de nuevas versiones
    ‚Ä¢ apt upgrade: Instala las actualizaciones disponibles
    ‚Ä¢ autoremove: Elimina dependencias no utilizadas
    ‚Ä¢ autoclean: Libera espacio eliminando archivos temporales
Verificaci√≥n de Servicios Cr√≠ticos
SSH (Secure Shell):
# Verificar estado del servicio SSH
sudo systemctl status ssh

# Verificar que SSH est√° escuchando
sudo ss -tlnp | grep :22

# Verificar configuraci√≥n SSH
sudo cat /etc/ssh/sshd_config | grep -E "Port|PermitRootLogin|PasswordAuthentication"

Red y conectividad:
# Verificar interfaces de red
ip addr show

# Verificar conectividad a internet
ping -c 4 8.8.8.8

# Verificar resoluci√≥n DNS
nslookup google.com

# Verificar tabla de rutas
ip route show

CONFIGURACI√ìN DE RED AVANZADA
Entendiendo la Configuraci√≥n de Red
Netplan (Ubuntu 18.04+):
Ubuntu Server utiliza Netplan para configuraci√≥n de red declarativa.
# Ver archivos de configuraci√≥n de red
ls -la /etc/netplan/

# Ver configuraci√≥n actual
sudo cat /etc/netplan/00-installer-config.yaml

Configuraci√≥n t√≠pica NAT:
network:
  ethernets:
    enp0s3:
      dhcp4: true
  version: 2

¬øQu√© significa esta configuraci√≥n?
    ‚Ä¢ enp0s3: Interfaz de red (Ethernet PCI slot 0, funci√≥n 3)
    ‚Ä¢ dhcp4: true: Obtiene IP autom√°ticamente v√≠a DHCP
    ‚Ä¢ version: 2: Versi√≥n de Netplan
Configuraci√≥n SSH Segura
Archivo de configuraci√≥n SSH:
# Crear respaldo de configuraci√≥n original
sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.backup

# Editar configuraci√≥n SSH
sudo nano /etc/ssh/sshd_config

Configuraciones de seguridad b√°sicas:
# Cambiar puerto por defecto (opcional para laboratorio)
Port 22

# Deshabilitar login root directo
PermitRootLogin no

# Habilitar autenticaci√≥n por contrase√±a (temporal)
PasswordAuthentication yes

# L√≠mite de intentos de login
MaxAuthTries 3

# Tiempo l√≠mite de login
LoginGraceTime 60

Reiniciar SSH tras cambios:
# Verificar configuraci√≥n antes de reiniciar
sudo sshd -t

# Reiniciar servicio SSH
sudo systemctl restart ssh

# Verificar que est√° funcionando
sudo systemctl status ssh

ACCESO REMOTO DESDE EL HOST
Configuraci√≥n de Port Forwarding en VirtualBox
Para acceder a tu servidor desde la m√°quina host:
    1. Apaga la VM temporalmente
    2. En VirtualBox: Configuraci√≥n ‚Üí Red ‚Üí Avanzado ‚Üí Reenv√≠o de puertos
    3. A√±ade nueva regla:
        ‚ó¶ Nombre: SSH
        ‚ó¶ Protocolo: TCP
        ‚ó¶ IP anfitri√≥n: 127.0.0.1
        ‚ó¶ Puerto anfitri√≥n: 2222
        ‚ó¶ IP invitado: (vac√≠o)
        ‚ó¶ Puerto invitado: 22
Conexi√≥n SSH desde el Host
Desde Windows (usando PowerShell o WSL):
ssh -p 2222 admin@127.0.0.1

Desde Linux/macOS:
ssh -p 2222 admin@localhost

Primera conexi√≥n SSH:
The authenticity of host '[localhost]:2222 ([127.0.0.1]:2222)' can't be established.
ECDSA key fingerprint is SHA256:...
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes

¬øQu√© significa este mensaje?
    ‚Ä¢ Host key verification: SSH verifica la identidad del servidor
    ‚Ä¢ Fingerprint: Huella digital √∫nica del servidor
    ‚Ä¢ Responde "yes": Para a√±adir el servidor a hosts conocidos
RECURSOS GRATUITOS PARA HOY
Recurso Principal: Linux Journey - Command Line
URL: https://linuxjourney.com/lesson/the-shell
M√≥dulos espec√≠ficos para hoy:
    ‚Ä¢ The Shell: Introducci√≥n al int√©rprete de comandos
    ‚Ä¢ pwd (Print Working Directory): Conocer ubicaci√≥n actual
    ‚Ä¢ cd (Change Directory): Navegaci√≥n entre directorios
    ‚Ä¢ ls (List): Listar contenido de directorios
Recurso Complementario: Ubuntu Server Guide
URL: https://ubuntu.com/server/docs/installation
Secciones relevantes:
    ‚Ä¢ Installation: Proceso completo de instalaci√≥n
    ‚Ä¢ Network Configuration: Configuraci√≥n de red con Netplan
    ‚Ä¢ Package Management: Gesti√≥n de paquetes con APT
Recurso de Configuraci√≥n SSH
URL: https://es.dade2.net/como-habilitar-el-servidor-ssh-en-ubuntu-22-04/
Contenido clave:
    ‚Ä¢ Instalaci√≥n de OpenSSH Server
    ‚Ä¢ Configuraci√≥n b√°sica de seguridad
    ‚Ä¢ Verificaci√≥n de servicios
Documentaci√≥n de Comandos
URL: https://itsfoss.com/es/comandos-linux-esenciales/
Comandos esenciales para hoy:
    ‚Ä¢ Comandos de navegaci√≥n b√°sica
    ‚Ä¢ Gesti√≥n de archivos fundamental
    ‚Ä¢ Informaci√≥n del sistema
üîç COMANDOS B√ÅSICOS ESENCIALES
Navegaci√≥n del Sistema de Archivos
# Mostrar directorio actual
pwd

# Listar contenido del directorio
ls
ls -l    # Lista detallada
ls -la   # Incluye archivos ocultos
ls -lh   # Tama√±os legibles por humanos

# Cambiar de directorio
cd /home/admin    # Ir al directorio home
cd ..             # Subir un nivel
cd ~              # Ir al directorio home del usuario
cd /              # Ir al directorio ra√≠z

Informaci√≥n del Sistema
# Informaci√≥n del sistema operativo
cat /etc/os-release

# Informaci√≥n del kernel
uname -a

# Informaci√≥n de hardware
lshw -short

# Uso de memoria
free -h

# Uso de disco
df -h

# Procesos en ejecuci√≥n
ps aux

# Informaci√≥n de red
ip addr show

Gesti√≥n B√°sica de Archivos
# Crear directorio
mkdir mi-directorio

# Crear archivo vac√≠o
touch mi-archivo.txt

# Ver contenido de archivo
cat /etc/hostname

# Ver primeras l√≠neas
head /var/log/syslog

# Ver √∫ltimas l√≠neas
tail /var/log/syslog

# Seguir un archivo en tiempo real
tail -f /var/log/syslog


üìä Progreso general: 2/365 d√≠as (0.55%)
¬°Tu servidor est√° listo y funcionando! Ma√±ana comenzamos con la verdadera administraci√≥n de sistemas. 
